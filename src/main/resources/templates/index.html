<!DOCTYPE html>
<html lang="kr" xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: html}">
<head>
    <th:block th:fragment="css">
        <link rel="stylesheet" th:href="@{/css/index.css}">
    </th:block>
</head>
<body>
<th:block th:fragment="content">
    <div class="index-container">
        <div class="container-inner">
            <!-- ê°€ì¥ ë§ì´ íŒ”ë¦° ìƒí’ˆ -->
            <div class="inner-rank-sale">
                <h2 class="h2-context">í•œë‹¬ ë™ì•ˆ ê°€ì¥ ë§ì´ íŒ”ë¦° ìš©í’ˆ</h2>
                <div class="swiper best-selling-swiper">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide product-item" th:each="product : ${bestSellingProducts}">
                            <a th:href="@{|/productDetail/${product.product_idx}|}">
                                <div class="product-image">
                                    <img th:src="@{${'/product-images/' + product.product_image.split(',')[0]}}" alt="ìƒí’ˆ ì´ë¯¸ì§€">
                                </div>
                            </a>
                            <div class="product-info">
                                <span class="like">
                                    <span>â¤ï¸</span>
                                    <span class="product-like-count" th:text="${product.product_like}"></span>
                                </span>
                                    <span class="comment">
                                    <span>ğŸ’¬</span>
                                    <span th:text="${product.product_coment}"></span>
                                </span>
                            </div>
                            <div class="product-name">
                                <p th:text="${product.productName}">ìƒí’ˆ ì´ë¦„</p>
                            </div>
                            <div class="product-price">
                                <div th:text="${#numbers.formatInteger(product.product_price, 3, 'COMMA') + ' ì›'}"></div>
                            </div>
                        </div>
                    </div>
                    <!-- ìŠ¬ë¼ì´ë“œ ë²„íŠ¼ -->
                    <div class="swiper-button-next"></div>
                    <div class="swiper-button-prev"></div>
                </div>
                <div th:if="${#lists.isEmpty(bestSellingProducts)}" class="no-reviews">
                    ì•„ì§ ë“±ë¡ëœ ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤.
                </div>
            </div>

            <!-- ìƒˆë¡­ê²Œ ë“±ë¡ëœ ìƒí’ˆ -->
            <div class="inner-rank-new">
                <h2 class="h2-context">í•œë‹¬ ë™ì•ˆ ìƒˆë¡­ê²Œ ë“±ë¡ëœ ìš©í’ˆ</h2>
                <div class="swiper new-products-swiper">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide product-item" th:each="product : ${newProducts}">
                            <a th:href="@{|/productDetail/${product.product_idx}|}">
                                <div class="product-image">
                                    <img th:src="@{${'/product-images/' + product.product_image.split(',')[0]}}" alt="ìƒí’ˆ ì´ë¯¸ì§€">
                                </div>
                            </a>
                            <div class="product-info">
                            <span class="like">
                                <span>â¤ï¸</span>
                                <span class="product-like-count" th:text="${product.product_like}"></span>
                            </span>
                                <span class="comment">
                                <span>ğŸ’¬</span>
                                <span th:text="${product.product_coment}"></span>
                            </span>
                            </div>
                            <div class="product-name">
                                <p th:text="${product.productName}">ìƒí’ˆ ì´ë¦„</p>
                            </div>
                            <div class="product-price">
                                <div th:text="${#numbers.formatInteger(product.product_price, 3, 'COMMA') + ' ì›'}"></div>
                            </div>
                        </div>
                    </div>
                    <!-- ìŠ¬ë¼ì´ë“œ ë²„íŠ¼ -->
                    <div class="swiper-button-next"></div>
                    <div class="swiper-button-prev"></div>
                </div>
                <div th:if="${#lists.isEmpty(newProducts)}" class="no-reviews">
                    ì•„ì§ ë“±ë¡ëœ ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤.
                </div>
            </div>
        </div>
    </div>

</th:block>
</body>
</html>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css" />
<script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        new Swiper(".best-selling-swiper", {
            slidesPerView: 5, // í•œ ì¤„ì— 5ê°œ
            spaceBetween: 20, // ê°„ê²©
            navigation: {
                nextEl: ".best-selling-swiper .swiper-button-next",
                prevEl: ".best-selling-swiper .swiper-button-prev",
            },
            loop: true, // ë¬´í•œ ë°˜ë³µ
        });

        new Swiper(".new-products-swiper", {
            slidesPerView: 5,
            spaceBetween: 20,
            navigation: {
                nextEl: ".new-products-swiper .swiper-button-next",
                prevEl: ".new-products-swiper .swiper-button-prev",
            },
            loop: true,
        });
    });
</script>